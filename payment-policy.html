<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment Policy | Hygienic & Comfort Co.</title>
  <meta name="description" content="Read the Payment Policy for Hygienic & Comfort Co. hygiene products.">
  <link rel="canonical" href="https://hygienicandcomfortco.shop/payment-policy.html" />
  <link rel="icon" type="image/png" href="logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    :root {
      --primary: #2563eb;
      --soft-blue: #eef4ff;
      --dark: #1e293b;
      --grey: #64748b;
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #1e293b;
      --muted: #64748b;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.65;
      overflow-x: hidden;
    }

    .main-header {
      background: rgba(255, 255, 255, 0.95);
      padding: 12px 5%;
      border-bottom: 1px solid #f1f5f9;
      position: sticky;
      top: 0;
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    .header-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .brand-wrapper {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
    }

    .logo-area { display: flex; align-items: center; gap: 12px; text-decoration: none; color: inherit; }
    .header-logo { height: 40px; width: auto; }
    .brand-text h1 { font-size: 1rem; font-weight: 800; line-height: 1.2; }
    .brand-text p { font-size: 0.65rem; color: var(--grey); font-weight: 600; display: none; }

    .nav-links {
      display: flex;
      gap: 15px;
      align-items: center;
      width: 100%;
      justify-content: center;
      border-top: 1px solid #f1f5f9;
      padding-top: 10px;
      flex-wrap: wrap;
    }

    .nav-links a { text-decoration: none; color: #475569; font-weight: 700; font-size: 0.85rem; transition: 0.2s; white-space: nowrap; }
    .nav-links a:hover, .nav-links a.active { color: var(--primary); }

    .profile-section { position: relative; }
    .profile-btn {
      background: var(--soft-blue);
      color: var(--primary);
      width: 42px;
      height: 42px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: 2px solid transparent;
      transition: 0.3s;
    }
    .profile-btn:hover { border-color: var(--primary); }

    .dropdown-menu {
      position: absolute;
      top: 55px;
      right: 0;
      background: white;
      width: 280px;
      border-radius: 20px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.12);
      border: 1px solid #f1f5f9;
      display: none;
      flex-direction: column;
      padding: 15px;
      z-index: 2001;
    }
    .dropdown-menu.active { display: flex !important; }

    .dropdown-header { margin-bottom: 12px; padding: 10px; border-bottom: 1px solid #f1f5f9; }
    .dropdown-header h4 { font-size: 1.1rem; font-weight: 800; color: var(--dark); margin: 0; }
    .dropdown-header p { font-size: 0.85rem; color: var(--grey); margin: 5px 0 0 0; }

    .dropdown-item {
      padding: 12px;
      text-decoration: none;
      color: var(--dark);
      border-radius: 12px;
      display: flex;
      align-items: center;
      gap: 15px;
      transition: 0.2s;
      cursor: pointer;
    }

    #auth-items, #guest-items {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .dropdown-item:hover { background: var(--soft-blue); color: var(--primary); }
    .dropdown-item i { width: 22px; height: 22px; color: var(--grey); transition: 0.2s; }
    .dropdown-item:hover i { color: var(--primary); }
    .item-info { display: flex; flex-direction: column; }
    .item-info b { font-size: 0.95rem; font-weight: 700; display: block; color: var(--dark); }
    .item-info span { font-size: 0.8rem; color: var(--grey); }
    .logout-btn-item { color: #ef4444 !important; }
    .logout-btn-item i { color: #ef4444 !important; }

    .wrap { max-width: 980px; margin: 30px auto; padding: 0 20px; }
    .card {
      background: var(--card);
      border: 1px solid #e2e8f0;
      border-radius: 16px;
      padding: 26px;
    }
    h1 { font-size: 1.9rem; margin-bottom: 8px; }
    .muted { color: var(--muted); margin-bottom: 14px; }
    h2 { font-size: 1.05rem; margin: 20px 0 8px; }
    p, li { color: #334155; }
    ul { padding-left: 20px; margin-top: 6px; }
    .site-footer {
      margin-top: 34px;
      padding: 26px 20px;
      border-top: 1px solid #dbe7ff;
      background: linear-gradient(180deg, #f8fbff 0%, #eef4ff 100%);
      text-align: center;
      color: #64748b;
      font-size: 0.86rem;
    }
    .site-footer .footer-nav {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px 16px;
      margin-bottom: 10px;
    }
    .site-footer a { color: #2563eb; text-decoration: none; font-weight: 700; }
    .site-footer a:hover { text-decoration: underline; }

    /* --- Footer (Unified) --- */
    .site-footer {
      margin-top: 40px;
      padding: 44px 5% 24px;
      background: linear-gradient(180deg, #f8fbff 0%, #eef4ff 100%);
      border-top: 1px solid #dbe7ff;
      color: #64748b;
      font-size: 0.82rem;
    }
    .site-footer .footer-inner { max-width: 1200px; margin: 0 auto; }
    .site-footer .footer-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 24px;
      align-items: start;
      text-align: left;
    }
    .site-footer .footer-section h4 {
      font-size: 0.95rem;
      color: #1e293b;
      margin: 0 0 10px 0;
      font-weight: 800;
    }
    .site-footer .footer-links { display: grid; gap: 8px; }
    .site-footer .footer-links a {
      color: #2563eb;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 700;
    }
    .site-footer .footer-links a:hover {
      color: #1d4ed8;
      text-decoration: underline;
      text-underline-offset: 2px;
    }
    .site-footer .footer-block {
      background: #ffffff;
      border: 1px solid #e2e8f0;
      border-radius: 16px;
      padding: 18px 18px;
      box-shadow: 0 6px 16px rgba(15, 23, 42, 0.04);
    }
    .site-footer .footer-contact {
      margin: 0 0 8px 0;
      color: #64748b;
      font-size: 0.88rem;
      line-height: 1.6;
    }
    .site-footer .footer-contact a {
      color: #2563eb;
      text-decoration: none;
      font-weight: 700;
    }
    .site-footer .footer-contact a:hover {
      text-decoration: underline;
      text-underline-offset: 2px;
    }
    .site-footer .footer-divider {
      height: 1px;
      background: #dbe7ff;
      margin: 28px 0 14px;
    }
    .site-footer .footer-bottom {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
      text-align: center;
      color: #64748b;
      font-size: 0.82rem;
    }
    .site-footer .footer-bottom a {
      color: #2563eb;
      text-decoration: none;
      font-weight: 700;
    }
    .site-footer .footer-bottom a:hover {
      text-decoration: underline;
      text-underline-offset: 2px;
    }

    .cart-count-btn {
      position: fixed;
      bottom: 25px;
      right: 25px;
      background: var(--primary);
      color: #fff;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      z-index: 2000;
      box-shadow: 0 8px 20px rgba(37,99,235,0.3);
    }
    .badge {
      position: absolute;
      top: -2px;
      right: -2px;
      background: #ef4444;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: 800;
      border: 2px solid #fff;
    }
    @media (min-width: 768px) {
      .site-footer .footer-grid {
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        align-items: start;
        text-align: left;
      }
      .site-footer .footer-bottom {
        flex-direction: row;
        justify-content: center;
        text-align: center;
        gap: 18px;
      }
    }
    @media (min-width: 768px) {
      .header-container {
        flex-direction: row;
        justify-content: space-between;
        padding: 5px 0;
      }
      .brand-wrapper { display: contents; }
      .logo-area { order: 1; }
      .brand-text h1 { font-size: 1.1rem; }
      .brand-text p { display: block; }
      .nav-links {
        width: auto;
        border-top: none;
        padding-top: 0;
        gap: 25px;
        margin-left: auto;
        order: 2;
      }
      .profile-section { order: 3; margin-left: 12px; }
      .header-logo { height: 50px; }
    }
    @media (max-width:700px) {
      .card { padding: 20px; }
      h1 { font-size: 1.55rem; }
    }
  
    /* --- Dark Theme --- */
    body.dark-theme {
      background: #0b1220 !important;
      color: #e2e8f0 !important;
    }
    body.dark-theme .main-header {
      background: rgba(8, 14, 27, 0.92) !important;
      border-bottom-color: #1e293b !important;
    }
    body.dark-theme .nav-links { border-top-color: #1e293b !important; }
    body.dark-theme .nav-links a { color: #cbd5e1 !important; }
    body.dark-theme .nav-links a:hover,
    body.dark-theme .nav-links a.active { color: #60a5fa !important; }
    body.dark-theme .profile-btn { background: #15243c !important; color: #60a5fa !important; }
    body.dark-theme .dropdown-menu {
      background: #0f1a2e !important;
      border-color: #1f2a44 !important;
      box-shadow: 0 15px 40px rgba(2, 6, 23, 0.55) !important;
    }
    body.dark-theme .dropdown-header { border-bottom-color: #1e293b !important; }
    body.dark-theme .dropdown-item { color: #e2e8f0 !important; }
    body.dark-theme .dropdown-item:hover { background: #15243c !important; color: #60a5fa !important; }
    body.dark-theme .dropdown-item i,
    body.dark-theme .item-info span { color: #94a3b8 !important; }
    body.dark-theme .item-info b { color: #e2e8f0 !important; }
    body.dark-theme .site-footer {
      background: linear-gradient(180deg, #0f172a 0%, #0b1220 100%) !important;
      border-top-color: #1f2a44 !important;
    }
    body.dark-theme .site-footer .footer-block {
      background: #0f1a2e !important;
      border-color: #1f2a44 !important;
      box-shadow: 0 10px 24px rgba(2, 6, 23, 0.38) !important;
    }
    body.dark-theme .site-footer .footer-contact,
    body.dark-theme .site-footer .footer-bottom { color: #94a3b8 !important; }
    body.dark-theme .site-footer .footer-divider { background: #1f2a44 !important; }
    body.dark-theme .card,
    body.dark-theme .about-card,
    body.dark-theme .form-card,
    body.dark-theme .checkout-container,
    body.dark-theme .order-summary,
    body.dark-theme .payment-method,
    body.dark-theme .address-card,
    body.dark-theme .product-card,
    body.dark-theme .review-item,
    body.dark-theme .review-form-wrap,
    body.dark-theme .order-card,
    body.dark-theme .info-card {
      background: #0f1a2e !important;
      border-color: #1f2a44 !important;
      color: #e2e8f0 !important;
    }
    body.dark-theme input,
    body.dark-theme textarea,
    body.dark-theme select {
      background: #111b2e !important;
      color: #e2e8f0 !important;
      border-color: #2a3a57 !important;
    }
    body.dark-theme .search-section-bar,
    body.dark-theme .announcement-bar,
    body.dark-theme .form-section,
    body.dark-theme .reviews-section,
    body.dark-theme .trust-bar {
      background: #0f172a !important;
      border-color: #1e293b !important;
    }
    body.dark-theme .suggestion-box {
      background: #0f1a2e !important;
      border-color: #1f2a44 !important;
    }
    body.dark-theme .suggestion-item:hover { background: #15243c !important; }
  
    /* --- Dark Mode Readability Fix --- */
    body.dark-theme .menu-item {
      color: #dbe7ff !important;
    }
    body.dark-theme .menu-item i {
      color: #9fb3cc !important;
    }
    body.dark-theme .menu-item:hover,
    body.dark-theme .menu-item.active {
      background: #15243c !important;
      color: #60a5fa !important;
    }
    body.dark-theme .sidebar,
    body.dark-theme .mobile-sidebar,
    body.dark-theme .user-profile-brief,
    body.dark-theme .summary-card,
    body.dark-theme .cart-main,
    body.dark-theme .address-section,
    body.dark-theme .pincode-section {
      background: #0f1a2e !important;
      border-color: #1f2a44 !important;
    }
    body.dark-theme h1,
    body.dark-theme h2,
    body.dark-theme h3,
    body.dark-theme h4,
    body.dark-theme h5,
    body.dark-theme h6,
    body.dark-theme .page-title,
    body.dark-theme .card-head,
    body.dark-theme .meta-item p,
    body.dark-theme .meta-value,
    body.dark-theme .items-text,
    body.dark-theme .item-name,
    body.dark-theme .reviewer-name,
    body.dark-theme .p-name,
    body.dark-theme .p-main-price,
    body.dark-theme .sum-total {
      color: #eaf2ff !important;
    }
    body.dark-theme .dropdown-header p,
    body.dark-theme .item-info span,
    body.dark-theme .user-profile-brief p,
    body.dark-theme .meta-item label,
    body.dark-theme .meta-label,
    body.dark-theme .address-info,
    body.dark-theme .selection-count,
    body.dark-theme .item-qty,
    body.dark-theme .item-unit,
    body.dark-theme .p-mrp-line,
    body.dark-theme .review-date,
    body.dark-theme p[style*="color: var(--grey)"] {
      color: #cbd5e1 !important;
    }
  
    /* --- Dark Theme Inline Color Guard --- */
    body.dark-theme [style*="color: #475569"],
    body.dark-theme [style*="color:#475569"],
    body.dark-theme [style*="color: #565959"],
    body.dark-theme [style*="color:#565959"],
    body.dark-theme [style*="color: #334155"],
    body.dark-theme [style*="color:#334155"],
    body.dark-theme [style*="color: #64748b"],
    body.dark-theme [style*="color:#64748b"] {
      color: #cbd5e1 !important;
    }
    body.dark-theme [style*="color: #1e293b"],
    body.dark-theme [style*="color:#1e293b"],
    body.dark-theme [style*="color: #0f172a"],
    body.dark-theme [style*="color:#0f172a"] {
      color: #eaf2ff !important;
    }
  
    /* --- Policy Typography & Color Fix --- */
    .card {
      color: var(--text);
    }
    .card h1,
    .card h2,
    .card h3 {
      color: var(--text);
      font-weight: 800;
      letter-spacing: 0.1px;
    }
    .card p,
    .card li {
      color: #334155;
      font-size: 0.98rem;
      line-height: 1.7;
    }
    .card a {
      color: var(--primary);
      font-weight: 700;
      text-underline-offset: 2px;
    }

    body.dark-theme .card h1,
    body.dark-theme .card h2,
    body.dark-theme .card h3 {
      color: #f8fbff !important;
    }
    body.dark-theme .card p,
    body.dark-theme .card li {
      color: #dbe7ff !important;
    }
    body.dark-theme .card .muted {
      color: #9fb3cc !important;
    }
    body.dark-theme .card a {
      color: #93c5fd !important;
    }
    body.dark-theme .card strong {
      color: #eaf2ff !important;
    }
  </style>
</head>
<body>
  <header class="main-header">
    <div class="header-container">
      <div class="brand-wrapper">
        <a href="index.html" class="logo-area">
          <img src="logo.png" alt="Logo" class="header-logo">
          <div class="brand-text">
            <h1>Hygienic &amp; Comfort Co.</h1>
            <p>Care, Comfort &amp; Hygiene for Every Age</p>
          </div>
        </a>

        <div class="profile-section">
          <div class="profile-btn" id="profile-btn">
            <i data-lucide="user"></i>
          </div>

          <div class="dropdown-menu" id="profile-dropdown">
            <div class="dropdown-header">
              <h4 id="user-display-name">Guest User</h4>
              <p id="user-display-sub">Manage your account</p>
            </div>
            <div id="guest-items">
              <a href="login.html" class="dropdown-item">
                <i data-lucide="log-in"></i>
                <div class="item-info"><b>Sign In</b><span>Access orders &amp; profile</span></div>
              </a>
              <a href="settings.html" class="dropdown-item">
                <i data-lucide="settings"></i>
                <div class="item-info"><b>Settings</b><span>Theme preferences</span></div>
              </a>
            </div>
            <div id="auth-items" style="display:none">
              <a href="profile.html" class="dropdown-item">
                <i data-lucide="user"></i>
                <div class="item-info"><b>My Profile</b><span>Settings</span></div>
              </a>
              <a href="orders.html" class="dropdown-item">
                <i data-lucide="package"></i>
                <div class="item-info"><b>My Orders</b><span>Purchase history</span></div>
              </a>
            <a href="settings.html" class="dropdown-item">
              <i data-lucide="settings"></i>
              <div class="item-info"><b>Settings</b><span>Theme preferences</span></div>
            </a>
              <div class="dropdown-item logout-btn-item" onclick="handleLogout()" style="cursor:pointer">
                <i data-lucide="log-out"></i>
                <div class="item-info"><b>Logout</b><span>End session safely</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <h1>Payment Policy</h1>
      <p class="muted">Effective date: 16 February 2026</p>
      <p>At Hygienic &amp; Comfort Co., we currently accept <strong>Cash on Delivery (COD)</strong> as the only payment method. This policy explains how COD works, what to expect at delivery, and how we handle payment-related issues.</p>

      <h2>1. Accepted Payment Methods</h2>
      <p>We accept <strong>Cash on Delivery (COD)</strong> and <strong>UPI at the doorstep</strong> for all orders placed on our website or through direct confirmation. Online/prepaid payments and card payments are not available at this time.</p>

      <h2>2. Payment at Delivery</h2>
      <ul>
        <li>The order amount is payable in cash or via UPI when your order is delivered.</li>
        <li>For cash payments, please keep the exact amount ready. For UPI, please keep your preferred UPI app ready.</li>
        <li>Payment is collected only after the package is handed over.</li>
      </ul>

      <h2>3. Order Confirmation &amp; Verification</h2>
      <p>We may contact you by phone or WhatsApp to confirm the order details, delivery address, and availability. If we are unable to reach you after reasonable attempts, the order may be delayed or cancelled.</p>

      <h2>4. Delivery Attempts &amp; Unavailability</h2>
      <p>If you are unavailable at the time of delivery, we may attempt delivery again based on availability and delivery routes. Repeated failed attempts may result in order cancellation.</p>

      <h2>5. Refusal to Accept Delivery</h2>
      <p>If an order is refused at delivery without a valid issue (such as damage or incorrect item), it may be treated as a cancelled order. Repeated refusals may lead to restrictions on future COD orders.</p>

      <h2>6. Pricing, Taxes &amp; Invoice</h2>
      <p>All prices shown are in INR. Applicable taxes are included unless stated otherwise. The final amount payable is confirmed at checkout and listed on your order confirmation.</p>

      <h2>7. Incorrect or Damaged Items</h2>
      <p>If you receive an incorrect or damaged item, please inform us within 48 hours of delivery with supporting photos. Eligible cases are handled as per our Return &amp; Refund Policy.</p>

      <h2>8. Future Payment Options</h2>
      <p>We may introduce additional payment methods in the future. Any updates will be reflected on this page and on the checkout screen.</p>

      <h2>9. Contact Us</h2>
      <p>If you have any questions about payments or COD, contact us at <a href="mailto:hygienicsandcomfort@gmail.com">hygienicsandcomfort@gmail.com</a> or call <a href="tel:+919307760665">+91 9307760665</a>.</p>
    </section>
  </main>

  <a href="cart.html" class="cart-count-btn" aria-label="View Cart">
    <i data-lucide="shopping-basket"></i>
    <span class="badge" id="cart-badge">0</span>
  </a>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-grid">
        <div class="footer-section footer-block">
          <h4>Policies</h4>
          <nav class="footer-links" aria-label="Policies">
            <a href="privacy-policy.html">Privacy Policy</a>
            <a href="terms-and-conditions.html">Terms &amp; Conditions</a>
            <a href="return-and-refund-policy.html">Return &amp; Refund Policy</a>
            <a href="payment-policy.html">Payment Policy</a>
          </nav>
        </div>
        <div class="footer-section footer-block">
          <h4>Contact</h4>
          <p class="footer-contact">Phone: <a href="tel:+919307760665">+91 9307760665</a></p>
          <p class="footer-contact">WhatsApp: <a href="https://wa.me/919307760665" target="_blank" rel="noopener">Chat Support</a></p>
          <p class="footer-contact">Email: <a href="mailto:hygienicsandcomfort@gmail.com">hygienicsandcomfort@gmail.com</a></p>
          <p class="footer-contact">Location: Ambernath, Maharashtra</p>
        </div>
      </div>

      <div class="footer-divider" role="presentation"></div>
      <div class="footer-bottom">
      <div>&copy; 2026 Hygienic &amp; Comfort Co. All rights reserved.</div>
    </div>
    </div>
  </footer>

  <script>
    const _supabase = supabase.createClient('https://uhkheprfbxxwuojswyht.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVoa2hlcHJmYnh4d3VvanN3eWh0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1MjQ4NTMsImV4cCI6MjA4MzEwMDg1M30.sm7ZhqVDWWckAolZN_7p3cGMaK0_aOnwgQcPXnUA-Es');

    async function checkUserSession() {
      const { data: { session }, error: sessionError } = await _supabase.auth.getSession();
      const user = session?.user || null;
      const guestItems = document.getElementById('guest-items');
      const authItems = document.getElementById('auth-items');
      const userDisplay = document.getElementById('user-display-name');
      const userSub = document.getElementById('user-display-sub');
      const profileBtn = document.getElementById('profile-btn');

      if (!guestItems || !authItems || !userDisplay || !userSub || !profileBtn) {
        return;
      }

      const setProfileIcon = (iconName) => {
        profileBtn.innerHTML = `<i data-lucide="${iconName}"></i>`;
        lucide.createIcons();
      };

      if (!sessionError && user) {
        let latestName = "";
        try {
          const { data: profile } = await _supabase
            .from('customers')
            .select('customer_name')
            .eq('user_id', user.id)
            .maybeSingle();
          latestName = (profile?.customer_name || "").toString().trim();
        } catch (e) {
          console.warn("Could not fetch latest profile name:", e);
        }
        const metaName = (user.user_metadata?.full_name || user.user_metadata?.name || "").toString().trim();
        const fallbackName = (user.email ? user.email.split('@')[0] : (user.phone || "User"));
        const displayName = latestName || metaName || fallbackName || "User";
        guestItems.style.display = 'none';
        authItems.style.display = 'flex';
        userDisplay.innerText = displayName;
        userSub.innerText = user.email || user.phone || 'User Account';
        setProfileIcon('user-check');
      } else {
        guestItems.style.display = 'block';
        authItems.style.display = 'none';
        userDisplay.innerText = 'Guest User';
        userSub.innerText = 'Manage your account';
        setProfileIcon('user');
      }
    }

    async function handleLogout() {
      if (!confirm('Are you sure you want to log out?')) return;
      try {
        await _supabase.auth.signOut();
        localStorage.removeItem('checkout-item');
        window.location.href = 'index.html';
      } catch (err) {
        console.error('Logout Error:', err);
        window.location.reload();
      }
    }

    document.getElementById('profile-btn').addEventListener('click', (e) => {
      e.stopPropagation();
      document.getElementById('profile-dropdown').classList.toggle('active');
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.profile-section')) {
        const dropdown = document.getElementById('profile-dropdown');
        if (dropdown) dropdown.classList.remove('active');
      }
    });

    window.onload = () => {
      lucide.createIcons();
      checkUserSession();
      const cart = JSON.parse(localStorage.getItem('hc-cart')) || [];
      const badge = document.getElementById('cart-badge');
      if (badge) badge.innerText = cart.length;
    };
  </script>
<script>
  (function initThemeFromSettings() {
    const THEME_STORAGE_KEY = 'hc-theme';
    const storedTheme = localStorage.getItem(THEME_STORAGE_KEY);
    const mediaQuery = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;
    const hasStoredTheme = storedTheme === 'dark' || storedTheme === 'light';
    const applyTheme = (isDark) => document.body.classList.toggle('dark-theme', isDark);

    applyTheme(hasStoredTheme ? storedTheme === 'dark' : !!(mediaQuery && mediaQuery.matches));

    if (!hasStoredTheme && mediaQuery) {
      if (typeof mediaQuery.addEventListener === 'function') {
        mediaQuery.addEventListener('change', (e) => applyTheme(e.matches));
      } else if (typeof mediaQuery.addListener === 'function') {
        mediaQuery.addListener((e) => applyTheme(e.matches));
      }
    }
  })();
</script>
</body>
</html>










